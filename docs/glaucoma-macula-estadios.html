<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />



<meta name="date" content="2021-03-31" />

<title>Análisis del cubo macular por estadios de glaucoma</title>

<script src="site_libs/header-attrs-2.6/header-attrs.js"></script>
<script src="site_libs/jquery-1.11.3/jquery.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/cosmo.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<script src="site_libs/jqueryui-1.11.4/jquery-ui.min.js"></script>
<link href="site_libs/tocify-1.9.1/jquery.tocify.css" rel="stylesheet" />
<script src="site_libs/tocify-1.9.1/jquery.tocify.js"></script>
<script src="site_libs/navigation-1.1/tabsets.js"></script>
<link href="site_libs/highlightjs-9.12.0/default.css" rel="stylesheet" />
<script src="site_libs/highlightjs-9.12.0/highlight.js"></script>
<link href="site_libs/pagedtable-1.1/css/pagedtable.css" rel="stylesheet" />
<script src="site_libs/pagedtable-1.1/js/pagedtable.js"></script>
<link href="site_libs/font-awesome-5.1.0/css/all.css" rel="stylesheet" />
<link href="site_libs/font-awesome-5.1.0/css/v4-shims.css" rel="stylesheet" />

<style type="text/css">
  code{white-space: pre-wrap;}
  span.smallcaps{font-variant: small-caps;}
  span.underline{text-decoration: underline;}
  div.column{display: inline-block; vertical-align: top; width: 50%;}
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  ul.task-list{list-style: none;}
    </style>

<style type="text/css">code{white-space: pre;}</style>
<style type="text/css">
  pre:not([class]) {
    background-color: white;
  }
</style>
<script type="text/javascript">
if (window.hljs) {
  hljs.configure({languages: []});
  hljs.initHighlightingOnLoad();
  if (document.readyState && document.readyState === "complete") {
    window.setTimeout(function() { hljs.initHighlighting(); }, 0);
  }
}
</script>



<style type="text/css">
h1 {
  font-size: 34px;
}
h1.title {
  font-size: 38px;
}
h2 {
  font-size: 30px;
}
h3 {
  font-size: 24px;
}
h4 {
  font-size: 18px;
}
h5 {
  font-size: 16px;
}
h6 {
  font-size: 12px;
}
.table th:not([align]) {
  text-align: left;
}
</style>





<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
code {
  color: inherit;
  background-color: rgba(0, 0, 0, 0.04);
}
img {
  max-width:100%;
}
.tabbed-pane {
  padding-top: 12px;
}
.html-widget {
  margin-bottom: 20px;
}
button.code-folding-btn:focus {
  outline: none;
}
summary {
  display: list-item;
}
</style>


<style type="text/css">
/* padding for bootstrap navbar */
body {
  padding-top: 51px;
  padding-bottom: 40px;
}
/* offset scroll position for anchor links (for fixed navbar)  */
.section h1 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h2 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h3 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h4 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h5 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h6 {
  padding-top: 56px;
  margin-top: -56px;
}
.dropdown-submenu {
  position: relative;
}
.dropdown-submenu>.dropdown-menu {
  top: 0;
  left: 100%;
  margin-top: -6px;
  margin-left: -1px;
  border-radius: 0 6px 6px 6px;
}
.dropdown-submenu:hover>.dropdown-menu {
  display: block;
}
.dropdown-submenu>a:after {
  display: block;
  content: " ";
  float: right;
  width: 0;
  height: 0;
  border-color: transparent;
  border-style: solid;
  border-width: 5px 0 5px 5px;
  border-left-color: #cccccc;
  margin-top: 5px;
  margin-right: -10px;
}
.dropdown-submenu:hover>a:after {
  border-left-color: #ffffff;
}
.dropdown-submenu.pull-left {
  float: none;
}
.dropdown-submenu.pull-left>.dropdown-menu {
  left: -100%;
  margin-left: 10px;
  border-radius: 6px 0 6px 6px;
}
</style>

<script>
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark it active
  menuAnchor.parent().addClass('active');

  // if it's got a parent navbar menu mark it active as well
  menuAnchor.closest('li.dropdown').addClass('active');
});
</script>

<!-- tabsets -->

<style type="text/css">
.tabset-dropdown > .nav-tabs {
  display: inline-table;
  max-height: 500px;
  min-height: 44px;
  overflow-y: auto;
  background: white;
  border: 1px solid #ddd;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs > li.active:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li.active:before {
  content: "&#xe258;";
  border: none;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs > li.active {
  display: block;
}

.tabset-dropdown > .nav-tabs > li > a,
.tabset-dropdown > .nav-tabs > li > a:focus,
.tabset-dropdown > .nav-tabs > li > a:hover {
  border: none;
  display: inline-block;
  border-radius: 4px;
  background-color: transparent;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li {
  display: block;
  float: none;
}

.tabset-dropdown > .nav-tabs > li {
  display: none;
}
</style>

<!-- code folding -->



<style type="text/css">

#TOC {
  margin: 25px 0px 20px 0px;
}
@media (max-width: 768px) {
#TOC {
  position: relative;
  width: 100%;
}
}

@media print {
.toc-content {
  /* see https://github.com/w3c/csswg-drafts/issues/4434 */
  float: right;
}
}

.toc-content {
  padding-left: 30px;
  padding-right: 40px;
}

div.main-container {
  max-width: 1200px;
}

div.tocify {
  width: 20%;
  max-width: 260px;
  max-height: 85%;
}

@media (min-width: 768px) and (max-width: 991px) {
  div.tocify {
    width: 25%;
  }
}

@media (max-width: 767px) {
  div.tocify {
    width: 100%;
    max-width: none;
  }
}

.tocify ul, .tocify li {
  line-height: 20px;
}

.tocify-subheader .tocify-item {
  font-size: 0.90em;
}

.tocify .list-group-item {
  border-radius: 0px;
}


</style>



</head>

<body>


<div class="container-fluid main-container">


<!-- setup 3col/9col grid for toc_float and main content  -->
<div class="row-fluid">
<div class="col-xs-12 col-sm-4 col-md-3">
<div id="TOC" class="tocify">
</div>
</div>

<div class="toc-content col-xs-12 col-sm-8 col-md-9">




<div class="navbar navbar-inverse  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">Glaucoma</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="index.html">Descripción</a>
</li>
<li>
  <a href="glaucoma-anillos.html">Anillos</a>
</li>
<li>
  <a href="glaucoma-clusters-izdo.html">Estadios</a>
</li>
<li>
  <a href="glaucoma-campo-visual.html">Campo visual</a>
</li>
<li>
  <a href="glaucoma-macula.html">Mácula</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="http://aprendeconalf.es/">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div class="fluid-row" id="header">



<h1 class="title toc-ignore">Análisis del cubo macular por estadios de glaucoma</h1>
<h4 class="date">2021-03-31</h4>

</div>


<!-- <!-- ```{r carga-datos} -->
<p>–&gt; <!-- <!-- # Carga de la base de datos (ver fichero glaucoma-preprocesamiento-datos.r) --> –&gt; <!-- <!-- datos.macula <- read.csv(file="datos/datos-macula-preprocesados.csv", header=T, sep=",") --> –&gt; <!-- <!-- datos.anillos <- read.csv(file="datos/datos-anillos-preprocesados.csv", header=T, sep=",") --> –&gt;</p>
<!-- <!-- varRims <- startsWith(colnames(datos.anillos), "Anillo") -->
<p>–&gt; <!-- <!-- varRims <- colnames(datos.anillos[varRims])[-1] --> –&gt; <!-- <!-- varG <- endsWith(colnames(datos.anillos), ".G") --> –&gt; <!-- <!-- varG <- colnames(datos.anillos[varG]) --> –&gt;</p>
<!-- <!-- # Selección de variables -->
<p>–&gt; <!-- <!-- datos.anillos %<>% dplyr::select(c("Id", "Ojo", "Glaucoma", varRims)) --> –&gt; <!-- <!-- # Casos completos --> –&gt; <!-- <!-- datos.anillos <- datos.anillos[complete.cases(datos.anillos), ] --> –&gt; <!-- <!-- # Ojo izquierdo  --> –&gt; <!-- <!-- datos.anillos.L <- filter(datos.anillos, Ojo=="L") --> –&gt; <!-- <!-- # Ojo derecho --> –&gt; <!-- <!-- datos.anillos.R <- filter(datos.anillos, Ojo=="R") --> –&gt;</p>
<!-- <!-- # Creación de los clusters de los estadios mediante k medias utilizando los sectores globales de todos los anillos (ver fichero glaucoma-clusters.r) -->
<p>–&gt; <!-- <!-- seed = 123 --> –&gt; <!-- <!-- labels=c("I", "II", "III", "IV") --> –&gt; <!-- <!-- n = length(labels) --> –&gt; <!-- <!-- # Ojo izquierdo --> –&gt; <!-- <!-- clusters <- kmeans(datos.anillos.L[datos.anillos.L$Glaucoma=="Y", varG], centers = n, nstart = 25) --> –&gt; <!-- <!-- centers <- clusters$centers[order(clusters$centers[,1], decreasing = T),] --> –&gt; <!-- <!-- clusters <- kmeans(datos.anillos.L[datos.anillos.L$Glaucoma=="Y", varG], centers = centers) --> –&gt; <!-- <!-- # Convertir el cluster en un factor --> –&gt; <!-- <!-- clusters$cluster <- as.factor(clusters$cluster) --> –&gt; <!-- <!-- # Asignar etiquetas a los niveles del factor --> –&gt; <!-- <!-- levels(clusters$cluster) <- labels --> –&gt; <!-- <!-- # Añadir el cluster al conjunto de datos --> –&gt; <!-- <!-- datos.anillos.L$Estadio<- factor("Sano", levels=c("Sano", labels)) --> –&gt; <!-- <!-- datos.anillos.L[datos.anillos.L$Glaucoma=="Y", "Estadio"] <- clusters$cluster --> –&gt;</p>
<!-- <!-- # Ojo derecho -->
<p>–&gt; <!-- <!-- clusters <- kmeans(datos.anillos.R[datos.anillos.R$Glaucoma=="Y", varG], centers = n, nstart = 25) --> –&gt; <!-- <!-- centers <- clusters$centers[order(clusters$centers[,1], decreasing = T),] --> –&gt; <!-- <!-- clusters <- kmeans(datos.anillos.R[datos.anillos.R$Glaucoma=="Y", varG], centers = centers) --> –&gt; <!-- <!-- # Convertir el cluster en un factor --> –&gt; <!-- <!-- clusters$cluster <- as.factor(clusters$cluster) --> –&gt; <!-- <!-- # Asignar etiquetas a los niveles del factor --> –&gt; <!-- <!-- levels(clusters$cluster) <- labels --> –&gt; <!-- <!-- # Añadir el cluster al conjunto de datos --> –&gt; <!-- <!-- datos.anillos.R$Estadio<- factor("Sano", levels=c("Sano", labels)) --> –&gt; <!-- <!-- datos.anillos.R[datos.anillos.R$Glaucoma=="Y", "Estadio"] <- clusters$cluster --> –&gt;</p>
<!-- <!-- datos.anillos[datos.anillos$Ojo=="L","Estadio"] <- datos.anillos.L$Estadio -->
<p>–&gt; <!-- <!-- datos.anillos[datos.anillos$Ojo=="R","Estadio"] <- datos.anillos.R$Estadio --> –&gt;</p>
<!-- <!-- # Añadir estadios al conjunto de datos de la mácula -->
<p>–&gt; <!-- <!-- datos <- left_join(datos.macula, datos.anillos[, c("Id", "Estadio")], by="Id") %>% --> –&gt; <!-- <!--   # Mover la columna del Estadio al principio --> –&gt; <!-- <!--   dplyr::select(Id, Capa, Estadio, everything()) --> –&gt;</p>
<!-- <!-- # Conjuntos de variables -->
<p>–&gt; <!-- <!-- # celdas <- startsWith(colnames(datos),"Cell") --> –&gt; <!-- <!-- # celdas <- colnames(datos)[celdas] --> –&gt; <!-- <!-- celdas <- NULL --> –&gt; <!-- <!-- for (i in 1:8){ --> –&gt; <!-- <!--   for (j in 8:1){ --> –&gt; <!-- <!--     celdas <- c(celdas, paste0("Celda",j,".",i)) --> –&gt; <!-- <!--   } --> –&gt; <!-- <!-- } --> –&gt; <!-- <!-- matriz.celdas <- matrix(celdas, nrow=8, ncol=8) --> –&gt; <!-- <!-- submatriz.celdas1 <- t(matriz.celdas[5:8,1:4]) --> –&gt; <!-- <!-- submatriz.celdas2 <- t(matriz.celdas[5:8,5:8]) --> –&gt; <!-- <!-- submatriz.celdas3 <- t(matriz.celdas[1:4,1:4]) --> –&gt; <!-- <!-- submatriz.celdas4 <- t(matriz.celdas[1:4,5:8]) --> –&gt; <!-- <!-- submatriz.celdas <- list(submatriz.celdas1, submatriz.celdas2, submatriz.celdas3, submatriz.celdas4) --> –&gt; <!-- <!-- celdas <- NULL --> –&gt; <!-- <!-- for (i in 1:8){ --> –&gt; <!-- <!--   for (j in 1:8){ --> –&gt; <!-- <!--     celdas <- c(celdas, paste0("Celda",j,".",i)) --> –&gt; <!-- <!--   } --> –&gt; <!-- <!-- } --> –&gt; <!-- <!-- # Celdas hemisferio inferior --> –&gt; <!-- <!-- celdas.HI <- c(as.vector(submatriz.celdas1),as.vector(submatriz.celdas2)) --> –&gt; <!-- <!-- # Celdas hemisferio superior --> –&gt; <!-- <!-- celdas.HS <- c(as.vector(submatriz.celdas3),as.vector(submatriz.celdas4)) --> –&gt;</p>
<!-- <!-- # Sustitución datos atípicos -->
<p>–&gt; <!-- <!-- eliminar.datos.atipicos <- function(x) { --> –&gt; <!-- <!--   qnt <- quantile(x, probs=c(.25, .75, 0.05, 0.95), na.rm = T) --> –&gt; <!-- <!--   iqr <- qnt[2]-qnt[1] --> –&gt; <!-- <!--   fence1 <- qnt[1]-1.5*iqr --> –&gt; <!-- <!--   fence2 <- qnt[2]+1.5*iqr --> –&gt; <!-- <!--   x[x < fence1] <- qnt[3] --> –&gt; <!-- <!--   x[x > fence2] <- qnt[4] --> –&gt; <!-- <!--   return(x) --> –&gt; <!-- <!-- } --> –&gt;</p>
<!-- <!-- datos[datos$Glaucoma=="Y" & datos$Capa=="RPE", celdas] <- sapply(datos[datos$Glaucoma=="Y" & datos$Capa=="RPE", celdas], eliminar.datos.atipicos) -->
<p>–&gt; <!-- <!-- datos[datos$Glaucoma=="N" & datos$Capa=="RPE", celdas ] <- sapply(datos[datos$Glaucoma=="N" & datos$Capa=="RPE", celdas], eliminar.datos.atipicos) --> –&gt; <!-- <!-- datos[datos$Glaucoma=="Y" & datos$Capa=="GCL", celdas] <- sapply(datos[datos$Glaucoma=="Y" & datos$Capa=="GCL", celdas], eliminar.datos.atipicos) --> –&gt; <!-- <!-- datos[datos$Glaucoma=="N" & datos$Capa=="GCL", celdas ] <- sapply(datos[datos$Glaucoma=="N" & datos$Capa=="GCL", celdas], eliminar.datos.atipicos) --> –&gt; <!-- <!-- datos[datos$Glaucoma=="Y" & datos$Capa=="INL", celdas] <- sapply(datos[datos$Glaucoma=="Y" & datos$Capa=="INL", celdas], eliminar.datos.atipicos) --> –&gt; <!-- <!-- datos[datos$Glaucoma=="N" & datos$Capa=="INL", celdas ] <- sapply(datos[datos$Glaucoma=="N" & datos$Capa=="INL", celdas], eliminar.datos.atipicos) --> –&gt; <!-- <!-- datos[datos$Glaucoma=="Y" & datos$Capa=="IPL", celdas] <- sapply(datos[datos$Glaucoma=="Y" & datos$Capa=="IPL", celdas], eliminar.datos.atipicos) --> –&gt; <!-- <!-- datos[datos$Glaucoma=="N" & datos$Capa=="IPL", celdas ] <- sapply(datos[datos$Glaucoma=="N" & datos$Capa=="IPL", celdas], eliminar.datos.atipicos) --> –&gt; <!-- <!-- datos[datos$Glaucoma=="Y" & datos$Capa=="ONL", celdas] <- sapply(datos[datos$Glaucoma=="Y" & datos$Capa=="ONL", celdas], eliminar.datos.atipicos) --> –&gt; <!-- <!-- datos[datos$Glaucoma=="N" & datos$Capa=="ONL", celdas ] <- sapply(datos[datos$Glaucoma=="N" & datos$Capa=="ONL", celdas], eliminar.datos.atipicos) --> –&gt; <!-- <!-- datos[datos$Glaucoma=="Y" & datos$Capa=="OPL", celdas] <- sapply(datos[datos$Glaucoma=="Y" & datos$Capa=="OPL", celdas], eliminar.datos.atipicos) --> –&gt; <!-- <!-- datos[datos$Glaucoma=="N" & datos$Capa=="OPL", celdas ] <- sapply(datos[datos$Glaucoma=="N" & datos$Capa=="OPL", celdas], eliminar.datos.atipicos) --> –&gt; <!-- <!-- datos[datos$Glaucoma=="Y" & datos$Capa=="RNFL", celdas] <- sapply(datos[datos$Glaucoma=="Y" & datos$Capa=="RNFL", celdas], eliminar.datos.atipicos) --> –&gt; <!-- <!-- datos[datos$Glaucoma=="N" & datos$Capa=="RNFL", celdas ] <- sapply(datos[datos$Glaucoma=="N" & datos$Capa=="RNFL", celdas], eliminar.datos.atipicos) --> –&gt; <!-- <!-- datos[datos$Glaucoma=="Y" & datos$Capa=="FULL", celdas] <- sapply(datos[datos$Glaucoma=="Y" & datos$Capa=="FULL", celdas], eliminar.datos.atipicos) --> –&gt; <!-- <!-- datos[datos$Glaucoma=="N" & datos$Capa=="FULL", celdas ] <- sapply(datos[datos$Glaucoma=="N" & datos$Capa=="FULL", celdas], eliminar.datos.atipicos) --> –&gt;</p>
<!-- <!-- # Añadir capas externas OPL+ONL+RPE -->
<p>–&gt; <!-- <!-- datos.OPLONLRPE <- cbind(datos[datos$Capa=="OPL", 1:5], datos[datos$Capa=="OPL", celdas] + datos[datos$Capa=="ONL", celdas] + datos[datos$Capa=="RPE", celdas]) --> –&gt; <!-- <!-- datos.OPLONLRPE$Capa <- "OPL+ONL+RPE"  --> –&gt; <!-- <!-- datos <- rbind(datos, datos.OPLONLRPE) --> –&gt;</p>
<!-- <!-- # Añadir capas internas RNFL+GCL+IPL -->
<p>–&gt; <!-- <!-- datos.RNFLGCLIPL <- cbind(datos[datos$Capa=="RNFL", 1:5], datos[datos$Capa=="RNFL", celdas] + datos[datos$Capa=="GCL", celdas] + datos[datos$Capa=="IPL", celdas]) --> –&gt; <!-- <!-- datos.RNFLGCLIPL$Capa <- "RNFL+GCL+IPL"  --> –&gt; <!-- <!-- datos <- rbind(datos, datos.RNFLGCLIPL) --> –&gt;</p>
<!-- <!-- # Añadir capas internas RNFL+GCL+IPL+INL -->
<p>–&gt; <!-- <!-- datos.RNFLGCLIPLINL <- cbind(datos[datos$Capa=="RNFL", 1:5], datos[datos$Capa=="RNFL", celdas] + datos[datos$Capa=="GCL", celdas] + datos[datos$Capa=="IPL", celdas]) --> –&gt; <!-- <!-- datos.RNFLGCLIPLINL$Capa <- "RNFL+GCL+IPL+INL"  --> –&gt; <!-- <!-- datos <- rbind(datos, datos.RNFLGCLIPLINL) --> –&gt;</p>
<!-- <!-- # Datos hemisferio superior e inferior -->
<p>–&gt; <!-- <!-- datos$Celda.HI <- apply(datos[,celdas.HI], 1, mean, na.rm=T) --> –&gt; <!-- <!-- datos$Celda.HS <- apply(datos[,celdas.HS], 1, mean, na.rm=T) --> –&gt;</p>
<!-- <!-- # Selección de datos -->
<p>–&gt; <!-- <!-- # Casos completos --> –&gt; <!-- <!-- datos %<>% na.omit --> –&gt; <!-- <!-- # Ojo izquierdo  --> –&gt; <!-- <!-- datos.L <- datos[datos$Ojo=="L",] --> –&gt; <!-- <!-- # Ojo derecho --> –&gt; <!-- <!-- datos.R <- datos[datos$Ojo=="R",] --> –&gt; <!-- <!-- # Datos Glaucoma --> –&gt; <!-- <!-- datos.Glaucoma = datos[datos$Glaucoma=="Y",] --> –&gt; <!-- <!-- # Datos Sanos --> –&gt; <!-- <!-- datos.Sanos = datos[datos$Glaucoma=="N",] --> –&gt; <!-- <!-- # Datos hemisferios --> –&gt; <!-- <!-- datos.Hemisferios <- gather(datos[, c("Capa", "Estadio", "Glaucoma", "Ojo", "Celda.HI", "Celda.HS")], Hemisferio, Grosor, -Capa, -Estadio, -Glaucoma, -Ojo) --> –&gt; <!-- <!-- ``` --> –&gt;</p>
<!-- ```{r funciones} -->
<!-- # Funciones para dibujar distribuciones por grupos -->
<!-- # Resumen estadístico -->
<!-- describir <- function(vars, ojo, capa){ -->
<!--   if (ojo=="L"){ -->
<!--     result <- describeBy(datos[datos$Ojo=="L" & datos$Capa==capa, varCells], datos[datos$Ojo=="L" & datos$Capa==capa, "Glaucoma"], mat = T, digits = 4) -->
<!--   } else { -->
<!--     result <- describeBy(datos[datos$Ojo=="R" & datos$Capa==capa, varCells], datos[datos$Ojo=="R" & datos$Capa==capa, "Glaucoma"], mat = T, digits = 4) -->
<!--   } -->
<!--   result[,c("item","vars","trimmed", "mad","range","se")] <- NULL -->
<!--   colnames(result)[1] <- "Glaucoma" -->
<!--   return(result) -->
<!-- } -->
<!-- # Histogramas de las variables vars de la capa Capa según Estadío y Ojos -->
<!-- histograma.celdas.capa <- function(celdas, capa){ -->
<!--   p <- ggplot(datos[datos$Capa==capa,], aes_string(x = celdas)) + geom_histogram(aes(fill=Estadio), colour=I("white"), position="identity", alpha=.5) + facet_grid(Ojo~.) -->
<!--   return(p) -->
<!-- } -->
<!-- matriz.histogramas.capa <- function(matriz, capa){ -->
<!--   for (i in 1:length(matriz)){ -->
<!--     p <- lapply(unlist(matriz[i]), histograma.celdas.capa, capa=capa) -->
<!--     print(do.call(ggarrange, c(p, common.legend = TRUE, legend = "top"))) -->
<!--   } -->
<!-- } -->
<!-- # Densidad de las variables vars de la capa Capa según glaucoma y ojos -->
<!-- densidad.celdas.capa <- function(celdas, capa){ -->
<!--   p <- ggplot(datos[datos$Capa==capa,], aes_string(x = celdas)) + geom_density(aes(fill=Estadio), colour=I("white"), position="identity", alpha=.5) + facet_grid(Ojo~.) -->
<!--   return(p) -->
<!-- } -->
<!-- matriz.densidad.capa <- function(matriz, capa){ -->
<!--   for (i in 1:length(matriz)){ -->
<!--     p <- lapply(unlist(matriz[i]), densidad.celdas.capa, capa=capa) -->
<!--     print(do.call(ggarrange, c(p, common.legend = TRUE, legend = "top"))) -->
<!--   } -->
<!-- } -->
<!-- # Diagrama de las variables vars de la capa Capa según glaucoma y ojos -->
<!-- cajas.celdas.capa <- function(celdas, capa){ -->
<!--   p <- ggplot(datos[datos$Capa==capa,], aes_string(x="Ojo", y = celdas)) + geom_boxplot(aes(fill=Estadio)) -->
<!--   return(p) -->
<!-- } -->
<!-- matriz.cajas.capa <- function(matriz, capa){ -->
<!--   for (i in 1:length(matriz)){ -->
<!--     p <- lapply(unlist(matriz[i]), cajas.celdas.capa, capa=capa) -->
<!--     print(do.call(ggarrange, c(p, common.legend = TRUE, legend = "top"))) -->
<!--   } -->
<!-- } -->
<!-- ``` -->
<!-- # Capa total -->
<!-- ## Estadística Descriptiva -->
<!-- ### Comparación de distribuciones por glaucoma y ojo -->
<!-- ```{r densidad-macula-total} -->
<!-- matriz.densidad.capa(submatriz.celdas, "FULL") -->
<!-- ``` -->
<!-- ```{r cajas-macula-total} -->
<!-- matriz.cajas.capa(submatriz.celdas, "FULL") -->
<!-- ``` -->
<!-- # Capa RNFL -->
<!-- ## Estadística Descriptiva -->
<!-- ### Comparación de distribuciones por glaucoma y ojo -->
<!-- ```{r densidad-macula-rnfl} -->
<!-- matriz.densidad.capa(submatriz.celdas, "RNFL") -->
<!-- ``` -->
<!-- ```{r cajas-macula-rnfl} -->
<!-- matriz.cajas.capa(submatriz.celdas, "RNFL") -->
<!-- ``` -->
<!-- # Capa GCL -->
<!-- ## Estadística Descriptiva -->
<!-- ### Comparación de distribuciones por glaucoma y ojo -->
<!-- ```{r densidad-macula-gcl} -->
<!-- matriz.densidad.capa(submatriz.celdas, "GCL") -->
<!-- ``` -->
<!-- ```{r cajas-macula-gcl} -->
<!-- matriz.cajas.capa(submatriz.celdas, "GCL") -->
<!-- ``` -->
<!-- # Capa IPL -->
<!-- ## Estadística Descriptiva -->
<!-- ### Comparación de distribuciones por glaucoma y ojo -->
<!-- ```{r densidad-macula-ipl} -->
<!-- matriz.densidad.capa(submatriz.celdas, "IPL") -->
<!-- ``` -->
<!-- ```{r cajas-macula-ipl} -->
<!-- matriz.cajas.capa(submatriz.celdas, "IPL") -->
<!-- ``` -->
<!-- # Capa INL -->
<!-- ## Estadística Descriptiva -->
<!-- ### Comparación de distribuciones por glaucoma y ojo -->
<!-- ```{r densidad-macula-inl} -->
<!-- matriz.densidad.capa(submatriz.celdas, "INL") -->
<!-- ``` -->
<!-- ```{r cajas-macula-inl} -->
<!-- matriz.cajas.capa(submatriz.celdas, "INL") -->
<!-- ``` -->
<!-- # Capa OPL -->
<!-- ## Estadística Descriptiva -->
<!-- ### Comparación de distribuciones por glaucoma y ojo -->
<!-- ```{r densidad-macula-opl} -->
<!-- matriz.densidad.capa(submatriz.celdas, "OPL") -->
<!-- ``` -->
<!-- ```{r cajas-macula-opl} -->
<!-- matriz.cajas.capa(submatriz.celdas, "OPL") -->
<!-- ``` -->
<!-- # Capa ONL -->
<!-- ## Estadística Descriptiva -->
<!-- ### Comparación de distribuciones por glaucoma y ojo -->
<!-- ```{r densidad-macula-onl} -->
<!-- matriz.densidad.capa(submatriz.celdas, "ONL") -->
<!-- ``` -->
<!-- ```{r cajas-macula-onl} -->
<!-- matriz.cajas.capa(submatriz.celdas, "ONL") -->
<!-- ``` -->
<!-- # Capa RPE -->
<!-- ## Estadística Descriptiva -->
<!-- ### Comparación de distribuciones por glaucoma y ojo -->
<!-- ```{r densidad-macula-rpe} -->
<!-- matriz.densidad.capa(submatriz.celdas, "RPE") -->
<!-- ``` -->
<!-- ```{r cajas-macula-rpe} -->
<!-- matriz.cajas.capa(submatriz.celdas, "RPE") -->
<!-- ``` -->
<!-- En este trabajo se presenta un estudio comparativo inferencial del grosor de las distintas capas nerviosas del cubo macular en pacientes diagnosticados con glaucoma de ángulo abierto y clasificados en distintos estadíos de la enfermedad.  -->
<!-- Los pacientes fueron clasificados previante en cuatro estadíos en función del grosor de los anillos peripapilares (BMO, 3.5, 4.1 y 4.7) y posteriormente, para cada capa de fibras nerviosas de la mácula, se compararon los grosores medios de las celdas del cubo macular según el estadío del glaucoma. El análisis demuestra no sólo que existen diferencias estadísticamente significativas entre sanos y enfermos en las capas externas de la retina (RNFL, CGL e IPL) sino también entre los distintos estadíos del glaucoma. En las capas externas de la retina (OPL, ONL y RPE) no se apreciaron diferencias estadísticamente significativas. -->



</div>
</div>

</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.odd').parent('tbody').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- tabsets -->

<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});

$(document).ready(function () {
  $('.tabset-dropdown > .nav-tabs > li').click(function () {
    $(this).parent().toggleClass('nav-tabs-open')
  });
});
</script>

<!-- code folding -->

<script>
$(document).ready(function ()  {

    // move toc-ignore selectors from section div to header
    $('div.section.toc-ignore')
        .removeClass('toc-ignore')
        .children('h1,h2,h3,h4,h5').addClass('toc-ignore');

    // establish options
    var options = {
      selectors: "h1,h2,h3",
      theme: "bootstrap3",
      context: '.toc-content',
      hashGenerator: function (text) {
        return text.replace(/[.\\/?&!#<>]/g, '').replace(/\s/g, '_');
      },
      ignoreSelector: ".toc-ignore",
      scrollTo: 0
    };
    options.showAndHide = true;
    options.smoothScroll = true;

    // tocify
    var toc = $("#TOC").tocify(options).data("toc-tocify");
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
